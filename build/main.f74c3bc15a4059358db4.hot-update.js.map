{"version":3,"file":"main.f74c3bc15a4059358db4.hot-update.js","sources":["webpack:///./src/pages/SignIn/index.jsx"],"sourcesContent":["import React from \"react\";\nimport logo from \"../../assets/images/2gather.jpg\";\nimport { isValidEmail } from \"../../platform/services/validator\";\n\nimport \"./style.scss\";\n\nclass SignIn extends React.Component {\n  state = {\n    form: {\n      email: \"\",\n      password: \"\"\n    },\n    focus: {\n      email: false,\n      password: false\n    },\n    passToggle: false,\n    submitted: false\n  };\n\n  submit = async e => {\n    e.preventDefault();\n    const {\n      form: { email, password }\n    } = this.state;\n\n    this.setState({\n      submitted: true\n    });\n\n    if (isValidEmail(email) && password) {\n      try {\n        const response = await fetch(\"https://2.evollai.com/api/auth/login\", {\n          method: \"POST\",\n          body: JSON.stringify({\n            email,\n            password,\n            osType: 3\n          }),\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept-Language\": \"*\",\n            language: 1\n          }\n        });\n        const result = await response.json();\n        console.log(result);\n        if (result) {\n          localStorage.setItem(\"authToken\", result.data.authToken);\n          window.routerHistory.push(\"/topic-suggestion\");\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  change = ({ target: { name, value } }) => {\n    const { form } = this.state;\n    form[name] = value;\n    this.setState({ form });\n  };\n\n  onFocus = key => {\n    this.setState({\n      focus: {\n        [key]: true\n      }\n    });\n  };\n\n  onBlur = (e, key) => {\n    console.log(e.target.value);\n    this.setState({\n      focus: {\n        [key]: e.target.value !== \"\"\n      }\n    });\n  };\n\n  togglePassword = () => {\n    this.setState({\n      passToggle: !this.state.passToggle\n    });\n  };\n\n  render() {\n    const { form, focus, passToggle, submitted } = this.state;\n    return (\n      <div className=\"sign-in\">\n        <div className=\"sign-in-form\">\n          <div className=\"sign-in-form-container\">\n            <h2>Sign in</h2>\n            <p>\n              Enter your email and password and login in your <br /> account\n            </p>\n            <form>\n              <div className=\"G-field\">\n                <label\n                  className={`G-form-label  ${\n                    focus.email ? \"G-label-animated\" : \"\"\n                  }`}\n                  htmlFor=\"signin-email\"\n                >\n                  Email\n                </label>\n                <input\n                  type=\"email\"\n                  onChange={this.change}\n                  name=\"email\"\n                  onFocus={() => this.onFocus(\"email\")}\n                  onBlur={e => this.onBlur(event, \"email\")}\n                  className={\n                    submitted && !isValidEmail(form.email)\n                      ? \"G-invalid-input\"\n                      : \"\"\n                  }\n                />\n\n                <span\n                  className={`input-border ${\n                    focus.email ? \"input-border-animated\" : \"\"\n                  }`}\n                ></span>\n              </div>\n              <div className=\"G-field\">\n                <label\n                  className={`G-form-label  ${\n                    focus.password ? \"G-label-animated\" : \"\"\n                  }`}\n                  htmlFor=\"signin-password\"\n                >\n                  Password\n                </label>\n                <input\n                  name=\"password\"\n                  type={!passToggle ? \"password\" : \"text\"}\n                  onChange={this.change}\n                  onFocus={() => this.onFocus(\"password\")}\n                  onBlur={() => this.onBlur(event, \"password\")}\n                  className={\n                    submitted && !form.password ? \"G-invalid-input\" : \"\"\n                  }\n                />\n\n                <span\n                  className={`input-border ${\n                    focus.password ? \"input-border-animated\" : \"\"\n                  }`}\n                ></span>\n                <i\n                  className={!passToggle ? \"icon-ic_eye\" : \"icon-ic_eyeclosed\"}\n                  onClick={this.togglePassword}\n                ></i>\n              </div>\n\n              <button className=\"G-button\" onClick={this.submit}>\n                Sign in\n              </button>\n            </form>\n          </div>\n        </div>\n        <div className=\"logo\">\n          <img src={logo} alt=\"2gather\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SignIn;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AAVA;AACA;;;;;;AAYA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AAKA;AACA;AADA;AACA;AAPA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAaA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAPA;AACA;AAbA;AAYA;AAZA;AAAA;AACA;AADA;AAyBA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AA/BA;AAAA;AACA;AADA;AAAA;AAAA;AAgCA;AACA;AAjCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAoCA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AAKA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAKA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;;;;;;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAJA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAcA;AADA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAJA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAYA;AADA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AAjKA;AACA;AAmKA;;;;A","sourceRoot":""}