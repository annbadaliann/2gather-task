{"version":3,"file":"main.fe7317c819f33131175a.hot-update.js","sources":["webpack:///./src/pages/SignIn/index.jsx"],"sourcesContent":["import React from \"react\";\nimport logo from \"../../assets/images/2gather.jpg\";\nimport { isValidEmail } from \"../../platform/validatior\";\nimport eyeIcon from \"../../assets/images/close-eye.png\";\nimport InputField from \"./InputField\";\nimport \"react-notifications/lib/notifications.css\";\nimport {\n  NotificationContainer,\n  NotificationManager\n} from \"react-notifications\";\n\nimport \"./style.scss\";\n\nclass SignIn extends React.Component {\n  state = {\n    form: {\n      email: \"\",\n      password: \"\"\n    },\n    focus: {\n      email: false,\n      password: false\n    },\n    passToggle: false,\n    submitted: false\n  };\n\n  submit = async e => {\n    e.preventDefault();\n    const {\n      form: { email, password }\n    } = this.state;\n\n    this.setState({\n      submitted: true\n    });\n\n    if (isValidEmail(email) && password) {\n      try {\n        const response = await fetch(\"https://2.evollai.com/api/auth/login\", {\n          method: \"POST\",\n          body: JSON.stringify({\n            email,\n            password,\n            osType: 3\n          }),\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept-Language\": \"*\",\n            language: 1\n          }\n        });\n        const result = await response.json();\n        if ((result, result.success)) {\n          localStorage.setItem(\"authToken\", result.data.authToken);\n          window.routerHistory.push(\"/topic-suggestion\");\n        } else {\n          NotificationManager.error(result.message);\n        }\n      } catch (error) {\n        // console.log(error);\n      }\n    }\n  };\n\n  change = ({ target: { name, value } }) => {\n    const { form } = this.state;\n    form[name] = value;\n    this.setState({ form });\n    console.log(form.email, form.password);\n  };\n\n  togglePassword = () => {\n    this.setState({\n      passToggle: !this.state.passToggle\n    });\n  };\n\n  render() {\n    const { form, focus, passToggle, submitted } = this.state;\n\n    console.log(form.email, form.password);\n    return (\n      <div className=\"sign-in\">\n        <div className=\"sign-in-form\">\n          <div className=\"sign-in-form-container\">\n            <h2>Sign in</h2>\n            <p>\n              Enter your email and password and login in your <br /> account\n            </p>\n            <form>\n              <div className=\"fields\">\n                <InputField\n                  change={this.change}\n                  labelName=\"Email\"\n                  name=\"email\"\n                  type=\"email\"\n                  field={isValidEmail(form.email)}\n                  submitted={submitted}\n                  value={form.email}\n                />\n                <div className=\"password-label\">\n                  <InputField\n                    change={this.change}\n                    labelName=\"Password\"\n                    name=\"password\"\n                    type={!passToggle ? \"password\" : \"text\"}\n                    field={form.password}\n                    submitted={submitted}\n                    value={form.password}\n                  />\n                  <img\n                    src={eyeIcon}\n                    alt=\"closed\"\n                    onClick={this.togglePassword}\n                  />\n                </div>\n              </div>\n\n              <button className=\"G-button\" onClick={this.submit}>\n                Sign in\n              </button>\n            </form>\n          </div>\n        </div>\n        <div className=\"logo\">\n          <img src={logo} alt=\"2gather\" />\n        </div>\n        <NotificationContainer enterTimeout={200} />\n      </div>\n    );\n  }\n}\n\nexport default SignIn;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AAVA;AACA;;;;;;AAYA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AAKA;AACA;AADA;AACA;AAPA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAaA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAPA;AACA;AAbA;AAYA;AAZA;AAAA;AACA;AADA;AAyBA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAqCA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAtHA;AACA;AAwHA;;;;A","sourceRoot":""}